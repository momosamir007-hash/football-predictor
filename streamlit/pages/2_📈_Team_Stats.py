# streamlit/pages/2_๐_Team_Stats.py
import streamlit as st
import pandas as pd
import plotly.express as px

st.set_page_config(page_title="ุฅุญุตุงุฆูุงุช ุงููุฑู", page_icon="๐", layout="wide")

st.title("๐ ุชุญููู ูุฅุญุตุงุฆูุงุช ุงููุฑู")
st.markdown("ุงุณุชุนุฑุถ ุฃุฏุงุก ุงููุฑู ุจูุงุกู ุนูู ุงูุจูุงูุงุช ุงูุชุงุฑูุฎูุฉ.")

# ููุงุญุธุฉ: ูู ุจูุฆุฉ ุงูุฅูุชุงุฌุ ููุถู ุฌูุจ ูุฐู ุงูุจูุงูุงุช ุนุจุฑ API ูู Modal. 
# ููุชุจุณูุท ููุงุ ุณูููู ุจูุญุงูุงุฉ ุฌูุจ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ุฃู ุนุฑุถ ุจูุงูุงุช ุชูุถูุญูุฉ.

@st.cache_data
def load_mock_data():
    """ุชูููุฏ ุจูุงูุงุช ููููุฉ ูุฃุบุฑุงุถ ุงูุนุฑุถ (ุงุณุชุจุฏููุง ูุงุญูุงู ุจุจูุงูุงุชู ุงูุญููููุฉ)"""
    data = {
        'ุงููุฑูู': ['Arsenal', 'Chelsea', 'Liverpool', 'Man City', 'Man United'],
        'ุงูุฃูุฏุงู ุงููุณุฌูุฉ': [85, 60, 80, 95, 55],
        'ุงูุฃูุฏุงู ุงููุณุชูุจูุฉ': [30, 45, 35, 25, 50],
        'ูุณุจุฉ ุงูููุฒ (%)': [70, 45, 65, 80, 40]
    }
    return pd.DataFrame(data)

df = load_mock_data()

# ุงุฎุชูุงุฑ ุงููุฑูู ููุชุญููู
selected_team = st.selectbox("ุงุฎุชุฑ ูุฑููุงู ูุนุฑุถ ุฅุญุตุงุฆูุงุชู:", df['ุงููุฑูู'].tolist())

# ุนุฑุถ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจุงููุฑูู ุงููุฎุชุงุฑ
team_data = df[df['ุงููุฑูู'] == selected_team].iloc[0]

col1, col2, col3 = st.columns(3)
col1.metric("ุงูุฃูุฏุงู ุงููุณุฌูุฉ", team_data['ุงูุฃูุฏุงู ุงููุณุฌูุฉ'])
col2.metric("ุงูุฃูุฏุงู ุงููุณุชูุจูุฉ", team_data['ุงูุฃูุฏุงู ุงููุณุชูุจูุฉ'])
col3.metric("ูุณุจุฉ ุงูููุฒ", f"{team_data['ูุณุจุฉ ุงูููุฒ (%)']}%")

st.markdown("---")

# ุฑุณู ุจูุงูู ูููุงุฑูุฉ ุงูุฃูุฏุงู ุจูู ุฌููุน ุงููุฑู
st.subheader("ููุงุฑูุฉ ุงูุฃูุฏุงู ุงููุณุฌูุฉ ูุงููุณุชูุจูุฉ ูููุฑู")
fig = px.bar(
    df, 
    x='ุงููุฑูู', 
    y=['ุงูุฃูุฏุงู ุงููุณุฌูุฉ', 'ุงูุฃูุฏุงู ุงููุณุชูุจูุฉ'],
    barmode='group',
    title="ุงูุฃุฏุงุก ุงููุฌููู ูุงูุฏูุงุนู",
    labels={'value': 'ุนุฏุฏ ุงูุฃูุฏุงู', 'variable': 'ุงูููุน'}
)
st.plotly_chart(fig, use_container_width=True)
